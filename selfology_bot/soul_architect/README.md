# Soul Architect - –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** Production Ready
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

---

## –û–±–∑–æ—Ä

**Soul Architect** - —ç—Ç–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–º–∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Selfology.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **5-—Å–ª–æ–π–Ω–∞—è –º–æ–¥–µ–ª—å –ª–∏—á–Ω–æ—Å—Ç–∏**: Big Five, Core Dynamics, Adaptive Traits, Domain Affinities, Unique Signature
- **–ì–∏–±—Ä–∏–¥–Ω–∞—è scoring —Å–∏—Å—Ç–µ–º–∞**: Confidence, variance, percentile, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–≤–æ–ª—é—Ü–∏–∏**: –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä—Ç –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ü—Ä–æ—Å—Ç–æ–π API**: 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
soul_architect/
‚îú‚îÄ‚îÄ __init__.py              # –ü—É–±–ª–∏—á–Ω—ã–π API
‚îú‚îÄ‚îÄ models.py                # Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ–µ–≤
‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ service.py               # SoulArchitectService - –≥–ª–∞–≤–Ω—ã–π API
‚îú‚îÄ‚îÄ trait_scorer.py          # Scoring —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —á–µ—Ä—Ç
‚îú‚îÄ‚îÄ profile_builder.py       # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π
‚îú‚îÄ‚îÄ evolution_tracker.py     # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ test_models.py
    ‚îî‚îÄ‚îÄ test_scorer.py
```

### –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –º–æ–¥–µ–ª—å –ª–∏—á–Ω–æ—Å—Ç–∏

```python
PersonalityProfile = {
    # –§–£–ù–î–ê–ú–ï–ù–¢ - Big Five (–º–µ–¥–ª–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è)
    "big_five": {
        "openness": TraitAssessment,
        "conscientiousness": TraitAssessment,
        "extraversion": TraitAssessment,
        "agreeableness": TraitAssessment,
        "neuroticism": TraitAssessment
    },

    # –î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ï –Ø–î–†–û (–º–µ–¥–ª–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è)
    "core_dynamics": {
        "resilience": TraitAssessment,
        "authenticity": TraitAssessment,
        "growth_mindset": TraitAssessment,
        "emotional_granularity": TraitAssessment,
        "cognitive_flexibility": TraitAssessment,
        "self_compassion": TraitAssessment,
        "meaning_making": TraitAssessment
    },

    # –ê–î–ê–ü–¢–ò–í–ù–´–ï –ß–ï–†–¢–´ (–±—ã—Å—Ç—Ä–æ –º–µ–Ω—è–µ—Ç—Å—è)
    "adaptive_traits": {
        "current_energy": TraitAssessment,
        "stress_level": TraitAssessment,
        "openness_state": TraitAssessment,
        "creative_flow": TraitAssessment,
        "social_battery": TraitAssessment
    },

    # –î–û–ú–ï–ù–ù–´–ï –ü–†–û–§–ò–õ–ò (–≤–∞–∂–Ω–æ—Å—Ç—å –¥–æ–º–µ–Ω–æ–≤)
    "domain_affinities": {
        "IDENTITY": TraitAssessment,
        "RELATIONSHIPS": TraitAssessment,
        "CAREER": TraitAssessment,
        # ... 13 –¥–æ–º–µ–Ω–æ–≤ –≤—Å–µ–≥–æ
    },

    # –£–ù–ò–ö–ê–õ–¨–ù–ê–Ø –ü–û–î–ü–ò–°–¨
    "unique_signature": {
        "thinking_style": str,
        "decision_pattern": str,
        "energy_rhythm": str,
        "learning_edge": str,
        "love_language": str,
        "stress_response": str
    }
}
```

### –ì–∏–±—Ä–∏–¥–Ω–∞—è scoring —Å–∏—Å—Ç–µ–º–∞

```python
TraitAssessment = {
    "value": 0.75,              # –û—Å–Ω–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (0-1)
    "confidence": 0.92,         # –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ—Ü–µ–Ω–∫–µ
    "variance": 0.08,           # –†–∞–∑–±—Ä–æ—Å –º–µ–∂–¥—É –æ—Ç–≤–µ—Ç–∞–º–∏
    "samples": 5,               # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
    "last_updated": datetime,

    # –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    "percentile": 82,           # –ü–æ–∑–∏—Ü–∏—è —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö
    "direction": "increasing",  # –¢—Ä–µ–Ω–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    "interpretation": "high",   # low/medium/high/very_high

    # –î–ª—è UI
    "display_formats": {
        "percentage": "75%",
        "stars": 4,
        "label": "–†–∞–∑–≤–∏—Ç–∞—è",
        "color": "#4CAF50"
    }
}
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
from selfology_bot.database.service import DatabaseService
from selfology_bot.soul_architect import SoulArchitectService

# –°–æ–∑–¥–∞–µ–º database service
db = DatabaseService(
    host="localhost",
    port=5432,
    user="postgres",
    password="your_password",
    database="n8n",
    schema="selfology"
)
await db.initialize()

# –°–æ–∑–¥–∞–µ–º Soul Architect service
soul = SoulArchitectService(db)
await soul.initialize()
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

```python
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å
profile = await soul.create_profile(user_id=123456)

print(f"Profile created!")
print(f"Completeness: {profile.completeness}")
print(f"Total samples: {profile.total_samples}")
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä—Ç—ã

```python
# –û–±–Ω–æ–≤–∏—Ç—å –æ–¥–Ω—É —á–µ—Ä—Ç—É
profile = await soul.update_trait(
    user_id=123456,
    category="big_five",
    trait_name="openness",
    value=0.75,
    confidence=0.85,
    trigger="answer_to_question_42"
)

print(f"Openness updated to {profile.big_five.openness.value}")
```

### 4. –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```python
# –û–±–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä—Ç –∑–∞ —Ä–∞–∑
updates = [
    {
        "category": "big_five",
        "trait_name": "openness",
        "value": 0.75,
        "confidence": 0.85
    },
    {
        "category": "adaptive_traits",
        "trait_name": "stress_level",
        "value": 0.6,
        "confidence": 0.9
    }
]

profile = await soul.batch_update_traits(
    user_id=123456,
    updates=updates
)
```

### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

```python
# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
profile = await soul.get_profile(user_id=123456)

# –î–æ—Å—Ç—É–ø –∫ —á–µ—Ä—Ç–∞–º
openness = profile.big_five.openness
print(f"Openness: {openness.value} (confidence: {openness.confidence})")
print(f"Interpretation: {openness.interpretation}")
print(f"Percentile: {openness.percentile}")
```

### 6. –ê–Ω–∞–ª–∏–∑ —ç–≤–æ–ª—é—Ü–∏–∏

```python
# –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É —ç–≤–æ–ª—é—Ü–∏–∏ –∑–∞ 30 –¥–Ω–µ–π
evolution = await soul.get_evolution(user_id=123456, days=30)

print(f"Total updates: {evolution.total_updates}")
print(f"Significant changes: {evolution.significant_changes}")
print(f"Most changed traits: {evolution.most_changed_traits}")

# –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —á–µ—Ä—Ç—ã
history = await soul.get_trait_history(
    user_id=123456,
    category="adaptive_traits",
    trait_name="stress_level",
    days=7
)

for record in history:
    print(f"{record.timestamp}: {record.old_value} -> {record.new_value}")
```

---

## API Reference

### SoulArchitectService

–ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏.

#### –ú–µ—Ç–æ–¥—ã

##### `initialize() -> bool`
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –ë–î.

##### `create_profile(user_id: int) -> PersonalityProfile`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ª–∏—á–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** PersonalityProfile

**Raises:** Exception –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

##### `get_profile(user_id: int, raise_if_not_found: bool = True) -> Optional[PersonalityProfile]`
–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ª–∏—á–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `raise_if_not_found` (bool): –í—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** PersonalityProfile –∏–ª–∏ None

##### `update_trait(user_id: int, category: str, trait_name: str, value: float, confidence: float, trigger: Optional[str] = None) -> PersonalityProfile`
–û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä—Ç—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `category` (str): –ö–∞—Ç–µ–≥–æ—Ä–∏—è (big_five, core_dynamics, adaptive_traits, domain_affinities)
- `trait_name` (str): –ò–º—è —á–µ—Ä—Ç—ã
- `value` (float): –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (0.0 - 1.0)
- `confidence` (float): –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∑–Ω–∞—á–µ–Ω–∏–∏
- `trigger` (Optional[str]): –ß—Ç–æ –≤—ã–∑–≤–∞–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π PersonalityProfile

##### `batch_update_traits(user_id: int, updates: List[Dict]) -> PersonalityProfile`
–û–±–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä—Ç –∑–∞ —Ä–∞–∑.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `updates` (List[Dict]): –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

##### `get_evolution(user_id: int, days: int = 30) -> EvolutionSummary`
–ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É —ç–≤–æ–ª—é—Ü–∏–∏ –ª–∏—á–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `days` (int): –ü–µ—Ä–∏–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–¥–Ω–µ–π)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** EvolutionSummary

##### `get_trait_history(user_id: int, category: str, trait_name: str, days: Optional[int] = None) -> List[TraitHistory]`
–ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —á–µ—Ä—Ç—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `user_id` (int): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `category` (str): –ö–∞—Ç–µ–≥–æ—Ä–∏—è —á–µ—Ä—Ç—ã
- `trait_name` (str): –ò–º—è —á–µ—Ä—Ç—ã
- `days` (Optional[int]): –ü–µ—Ä–∏–æ–¥ (–µ—Å–ª–∏ None - –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ø–∏—Å–æ–∫ TraitHistory

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

#### `selfology.personality_profiles`
–•—Ä–∞–Ω–µ–Ω–∏–µ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π –ª–∏—á–Ω–æ—Å—Ç–∏.

```sql
CREATE TABLE selfology.personality_profiles (
    id SERIAL PRIMARY KEY,
    user_id BIGINT UNIQUE NOT NULL,
    profile_data JSONB NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### `selfology.trait_history`
–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —á–µ—Ä—Ç.

```sql
CREATE TABLE selfology.trait_history (
    id SERIAL PRIMARY KEY,
    user_id BIGINT NOT NULL,
    trait_category VARCHAR(50) NOT NULL,
    trait_name VARCHAR(50) NOT NULL,
    old_value FLOAT,
    new_value FLOAT NOT NULL,
    confidence FLOAT NOT NULL,
    trigger VARCHAR(100),
    timestamp TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### `selfology.unique_signatures`
–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ –ª–∏—á–Ω–æ—Å—Ç–∏.

```sql
CREATE TABLE selfology.unique_signatures (
    id SERIAL PRIMARY KEY,
    user_id BIGINT UNIQUE NOT NULL,
    thinking_style VARCHAR(100),
    decision_pattern VARCHAR(100),
    energy_rhythm VARCHAR(100),
    learning_edge VARCHAR(100),
    love_language VARCHAR(100),
    stress_response VARCHAR(100),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### –ú–∏–≥—Ä–∞—Ü–∏—è

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
cd /home/ksnk/n8n-enterprise/projects/selfology
alembic upgrade head

# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
cd /home/ksnk/n8n-enterprise/projects/selfology
pytest selfology_bot/soul_architect/tests/ -v

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest selfology_bot/soul_architect/tests/test_scorer.py -v

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest selfology_bot/soul_architect/tests/ --cov=selfology_bot/soul_architect
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config.py`:

```python
from selfology_bot.soul_architect.config import config

# Scoring –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
config.scoring.MIN_CONFIDENCE_THRESHOLD  # 0.5
config.scoring.SIGNIFICANT_CHANGE_THRESHOLD  # 0.2

# –ü—Ä–æ—Ñ–∏–ª—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
config.profile.DEFAULT_TRAIT_VALUE  # 0.5
config.profile.MIN_COMPLETENESS_FOR_INSIGHTS  # 0.3

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
config.database.SCHEMA  # "selfology"
config.database.PERSONALITY_PROFILES_TABLE  # "personality_profiles"

# –≠–≤–æ–ª—é—Ü–∏—è
config.evolution.SHORT_PERIOD_DAYS  # 7
config.evolution.MEDIUM_PERIOD_DAYS  # 30
config.evolution.LONG_PERIOD_DAYS  # 90
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

```python
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
db = DatabaseService(...)
await db.initialize()

soul = SoulArchitectService(db)
await soul.initialize()

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
profile = await soul.create_profile(user_id=123456)

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä—Ç –ø–æ –º–µ—Ä–µ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
for answer in user_answers:
    trait_category, trait_name, value = analyze_answer(answer)

    profile = await soul.update_trait(
        user_id=123456,
        category=trait_category,
        trait_name=trait_name,
        value=value,
        confidence=0.8,
        trigger=f"answer_{answer.id}"
    )

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Å–∞–π—Ç–æ–≤
if profile.completeness > 0.3:
    evolution = await soul.get_evolution(user_id=123456, days=30)

    if evolution.significant_changes > 0:
        print(f"–ó–Ω–∞—á–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: {evolution.most_changed_traits}")
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤

```python
# –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–µ—Ä—Ç—ã
history = await soul.get_trait_history(
    user_id=123456,
    category="adaptive_traits",
    trait_name="stress_level",
    days=30
)

# –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–∞
from soul_architect.evolution_tracker import EvolutionTracker

tracker = EvolutionTracker()
trend = tracker.analyze_trait_trend(history, period_days=30)

print(f"Direction: {trend['direction']}")
print(f"Magnitude: {trend['magnitude']}")
print(f"Velocity: {trend['velocity']} per day")
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ –¥–∞–Ω–Ω—ã—Ö

```python
from soul_architect.profile_builder import ProfileBuilder

builder = ProfileBuilder()

# –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∏–∑ —Å–ª–æ–≤–∞—Ä—è
trait_data = {
    "big_five": {
        "openness": 0.75,
        "extraversion": 0.6
    },
    "core_dynamics": {
        "resilience": 0.8
    }
}

profile = builder.build_from_trait_dict(
    user_id=123456,
    trait_data=trait_data
)
```

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏:

- `pydantic` >= 2.5.0 - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- `asyncpg` >= 0.29.0 - —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL
- `selfology_bot.database.service` - —Ç–æ–ª—å–∫–æ DatabaseService

---

## Best Practices

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
–í—Å–µ–≥–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

```python
soul = SoulArchitectService(db)
success = await soul.initialize()
if not success:
    raise RuntimeError("Failed to initialize Soul Architect")
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏:

```python
try:
    profile = await soul.get_profile(user_id)
except ValueError:
    # –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω - —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π
    profile = await soul.create_profile(user_id)
```

### 3. –ü–∞–∫–µ—Ç–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `batch_update_traits` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–µ—Ä—Ç:

```python
# –õ—É—á—à–µ
await soul.batch_update_traits(user_id, updates)

# –•—É–∂–µ
for update in updates:
    await soul.update_trait(user_id, ...)  # N –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
```

### 4. Confidence –∏ variance
–£—á–∏—Ç—ã–≤–∞–π—Ç–µ confidence –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π:

```python
if trait.confidence < 0.5:
    print("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π –æ—Ü–µ–Ω–∫–∏")
elif trait.variance > 0.3:
    print("–í—ã—Å–æ–∫–∏–π —Ä–∞–∑–±—Ä–æ—Å –≤ –æ—Ç–≤–µ—Ç–∞—Ö - –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å")
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Selfology

### –í Onboarding —Å–∏—Å—Ç–µ–º–µ

```python
from selfology_bot.soul_architect import SoulArchitectService

class OnboardingOrchestrator:
    def __init__(self, db_service):
        self.soul = SoulArchitectService(db_service)

    async def process_answer(self, user_id, answer):
        # –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞
        traits = await self.analyze_answer(answer)

        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
        for trait in traits:
            await self.soul.update_trait(
                user_id=user_id,
                category=trait.category,
                trait_name=trait.name,
                value=trait.value,
                confidence=trait.confidence
            )
```

---

## Roadmap

### Version 1.1 (Planned)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (PDF, JSON, CSV)
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —ç–≤–æ–ª—é—Ü–∏–∏ —á–µ—Ä—Ç
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ ] ML-powered –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Version 2.0 (Future)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Qdrant –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- [ ] AI-generated –∏–Ω—Å–∞–π—Ç—ã –æ –ª–∏—á–Ω–æ—Å—Ç–∏
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - Selfology.me

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ issues –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –∫–æ–º–∞–Ω–¥–µ Selfology.

---

**–°–æ–∑–¥–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Selfology.me üöÄ**
