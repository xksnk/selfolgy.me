# ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Selfology.me

## ğŸ“ ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°
- `selfology_controller.py` - **Ğ“Ğ›ĞĞ’ĞĞ«Ğ™** Ñ„Ğ°Ğ¹Ğ» Ğ±Ğ¾Ñ‚Ğ° (entry point)
- `run-local.sh` - Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ñ hot reload
- `dev.sh` - Development environment management
- `Dockerfile`, `Dockerfile.dev`, `Dockerfile.new`, `Dockerfile.test` - Docker Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹
- `docker-compose.yml`, `docker-compose.dev.yml`, `docker-compose.enterprise.yml`, `docker-compose.microservices.yml`, `docker-compose.selfology.yml`, `docker-compose.test.yml`
- `requirements.txt`, `requirements-monitoring.txt` - Python Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
- `pyproject.toml` - Python project configuration
- `alembic.ini` - Database migrations config
- `Makefile` - Build automation

### ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- `.gitignore` - Git ignore rules
- `claude-config.json` - Claude AI configuration
- `.env` (Ğ½Ğµ Ğ² Ñ€ĞµĞ¿Ğ¾) - Environment variables

### Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ (ĞºĞ¾Ñ€ĞµĞ½ÑŒ)
- `README.md` - Main documentation
- `CLAUDE.md` - **Claude Code instructions**
- `Selfolgy.md` - Project overview
- `START_BOT.md` - Bot startup guide

#### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- `ARCHITECTURE_CONTRACTS.md`
- `ARCHITECTURE_DIAGRAMS.md`
- `ARCHITECTURE_REFACTORING_PLAN.md`
- `README_ARCHITECTURE.md`
- `REFACTORED_ARCHITECTURE.md`
- `REFACTORING_PROGRESS.md`
- `REFACTORING_REPORT_FSM.md`
- `REFACTORING_RULES_SELFOLOGY.md`

#### DevOps Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- `DEVOPS_GUIDE.md`
- `DEVOPS_QUICK_START.md`
- `DEVOPS_STRATEGY.md`
- `MIGRATION_GUIDE.md`

#### ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- `MONITORING.md`
- `MONITORING_SUMMARY.md`
- `MONITORING_SYSTEM.md`
- `MONITORING_TRANSPARENCY.md`

#### ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ
- `MVP_PLAN.md`
- `AGENT_STRATEGY_PLAN.md`
- `DEBUGGING_STRATEGY.md`
- `ONBOARDING_DEVELOPMENT_PLAN.md`
- `PHASE_2_ANALYSIS_SYSTEM_PLAN.md`

#### Testing Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- `TESTING_CODE_EXAMPLES.md`
- `TESTING_IMPLEMENTATION_PLAN.md`
- `TESTING_INDEX.md`
- `TESTING_README.md`
- `TESTING_STRATEGY.md`
- `TESTING_STRATEGY_SUMMARY.md`

#### Ğ’ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
- `VECTOR_PIPELINE.md`
- `VECTOR_SYSTEM_VERIFICATION.md`

#### ĞÑ‚Ñ‡ĞµÑ‚Ñ‹ Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ñ‹
- `EXECUTIVE_SUMMARY_RU.md`
- `FINAL_REPORT_02_10_2025.md`
- `DIAGNOSTIC_REPORT_2025-10-01.md`
- `DETAILED_FIX_PLAN_2025-10-01.md`
- `FIX_REPORT_personality_summary.md`
- `CLEANUP_LOG.md`
- `ARCHIVE_LIST.md`
- `AUTOMERGE_STATUS.md`
- `AUTO_RETRY_FIX.md`

#### Questions ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
- `QUESTIONS_FOR_IMPROVEMENT.md`
- `QUESTIONS_MERGE_COMPLETE.md`
- `QUICK_MERGE_INSTRUCTIONS.md`
- `NEXT_STEPS_QUESTIONS.md`
- `COUNTER_SYSTEM_FILES.md`
- `STATUS_GENERATION_COMPLETE.md`
- `PRIVACY_AUDIT.md`

### Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°/Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (ĞºĞ¾Ñ€ĞµĞ½ÑŒ)
- `check_analysis.py`
- `check_sessions.py`
- `debug_user_data.py`
- `diagnose_onboarding.py`
- `monitor_onboarding.py`
- `onboarding_profiler.py`
- `process_orphaned_answers.py`
- `process_single_answer.py`
- `reprocess_missing_vectors.py`
- `reprocess_vectors_simple.py`
- `review_questions.sh`
- `run_create_personality_vectors.sh`
- `run_personality_extraction.sh`
- `test_chat_coach_fix.py`
- `test_create_personality_vector.py`
- `test_embeddings_simple.py`
- `test_monitoring_system.py`
- `test_onboarding_answers_fix.py`
- `test_orchestrator_fixes.py`
- `test_qdrant_setup.py`
- `test_redis_fsm.py`
- `test_refactored_system.py`

---

## ğŸ“‚ .claude/ - Claude Code ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```
.claude/
â”œâ”€â”€ README.md
â”œâ”€â”€ BACKLOG.md
â”œâ”€â”€ settings.json
â”œâ”€â”€ settings.local.json
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ selfology-architect.md
â””â”€â”€ commands/
    â”œâ”€â”€ check-system.md
    â”œâ”€â”€ show-backlog.md
    â””â”€â”€ test-system.md
```

---

## ğŸ“‚ .github/ - GitHub Actions

```
.github/
â””â”€â”€ workflows/
    â””â”€â”€ ci-cd-pipeline.yml
```

---

## ğŸ“‚ alembic/ - Database Migrations

```
alembic/
â”œâ”€â”€ env.py
â”œâ”€â”€ script.py.mako
â””â”€â”€ versions/
    â”œâ”€â”€ 001_create_soul_architect_tables.py
    â”œâ”€â”€ 002_create_event_outbox_table.py
    â”œâ”€â”€ 003_add_global_answer_counter_trigger.py
    â”œâ”€â”€ 004_create_user_stats_table.py
    â”œâ”€â”€ 006_digital_personality.py
    â”œâ”€â”€ 007_optimize_counter_triggers.py
    â””â”€â”€ 008_complete_answer_counter_sync.py
```

---

## ğŸ“‚ archive/ - Deprecated Code

```
archive/
â”œâ”€â”€ deprecated_bots/
â”‚   â”œâ”€â”€ enterprise_monitored_bot.py
â”‚   â”œâ”€â”€ fixed_architecture_bot.py
â”‚   â”œâ”€â”€ human_friendly_bot.py
â”‚   â”œâ”€â”€ intelligent_bot.py
â”‚   â”œâ”€â”€ monitored_bot.py
â”‚   â”œâ”€â”€ monitored_bot_example.py
â”‚   â”œâ”€â”€ polished_bot.py
â”‚   â”œâ”€â”€ production_monitored_bot.py
â”‚   â”œâ”€â”€ quick_intelligent_bot.py
â”‚   â”œâ”€â”€ simple_bot.py
â”‚   â”œâ”€â”€ test_db_bot.py
â”‚   â”œâ”€â”€ user_friendly_bot.py
â”‚   â””â”€â”€ working_bot.py
â”œâ”€â”€ deprecated_handlers/
â”‚   â”œâ”€â”€ assessment.py
â”‚   â””â”€â”€ assessment_handler.py
â”œâ”€â”€ deprecated_main_files/
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ main_refactored.py
â”œâ”€â”€ deprecated_onboarding_dao.py_20250909_093926
â”œâ”€â”€ deprecated_templates_onboarding.json_20250909_093920
â””â”€â”€ deprecated_services/
    â””â”€â”€ intelligent_questioning.py
```

---

## ğŸ“‚ coach/ - Phase 2-3 AI Coach System

```
coach/
â”œâ”€â”€ README.md
â”œâ”€â”€ ai_coach_prompt.md
â”œâ”€â”€ architecture_recommendations.md
â”œâ”€â”€ COMPLETION_SUMMARY.md
â”œâ”€â”€ DATABASE_SCHEMA_FIX.md
â”œâ”€â”€ EXECUTIVE_SUMMARY.md
â”œâ”€â”€ IMPLEMENTATION_PLAN.md
â”œâ”€â”€ IMPLEMENTATION_PLAN_PHASE_2_3.md
â”œâ”€â”€ IMPORT_FIX_COMPLETE.md
â”œâ”€â”€ INTEGRATION_COMPLETE.md
â”œâ”€â”€ PHASE2_3_ACTIVATED.md
â”œâ”€â”€ PHASE2_3_STATUS.md
â”œâ”€â”€ PRODUCT_ROADMAP.md
â””â”€â”€ components/
    â”œâ”€â”€ adaptive_communication_style.py
    â”œâ”€â”€ confidence_calculator.py
    â”œâ”€â”€ deep_question_generator.py
    â”œâ”€â”€ enhanced_ai_router.py
    â”œâ”€â”€ micro_interventions.py
    â””â”€â”€ vector_storytelling.py
```

---

## ğŸ“‚ core/ - Core Infrastructure

```
core/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ config.py - Environment configuration
â”œâ”€â”€ logging.py - Structured logging
â”œâ”€â”€ enhanced_logging.py - Advanced logging features
â”œâ”€â”€ monitoring_orchestrator.py - Monitoring coordination
â”œâ”€â”€ monitoring_dashboard.py - Dashboard interface
â”œâ”€â”€ monitoring_api.py - Monitoring API
â”œâ”€â”€ health_monitoring.py - Health checks
â”œâ”€â”€ log_aggregation.py - Log collection
â”œâ”€â”€ event_bus.py - Event bus implementation
â”œâ”€â”€ event_bus_monitor.py - Event monitoring
â”œâ”€â”€ domain_events.py - Domain events definitions
â”œâ”€â”€ outbox_pattern.py - Outbox pattern for events
â”œâ”€â”€ circuit_breaker.py - Circuit breaker pattern
â”œâ”€â”€ retry.py - Retry logic
â”œâ”€â”€ service_protocols.py - Service interfaces
â””â”€â”€ Dockerfile.event-monitor
```

---

## ğŸ“‚ data_access/ - Data Access Layer

```
data_access/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ assessment_dao.py - Assessment data access
â”œâ”€â”€ coach_vector_dao.py - Coach vector operations
â”œâ”€â”€ user_dao.py - User data access
â””â”€â”€ vector_dao.py - Vector database operations
```

---

## ğŸ“‚ docs/ - Documentation

```
docs/
â”œâ”€â”€ API_DOCUMENTATION.md
â”œâ”€â”€ ARCHITECTURE.md
â”œâ”€â”€ CATEGORIES_IMPLEMENTATION_PLAN.md
â”œâ”€â”€ CONTEXT_STORIES_INTEGRATION.md
â”œâ”€â”€ COUNTER_ANALYSIS_RU.md
â”œâ”€â”€ COUNTER_ARCHITECTURE.md
â”œâ”€â”€ COUNTER_DECISION_MATRIX.md
â”œâ”€â”€ COUNTER_RECOMMENDATION.txt
â”œâ”€â”€ DATA_STORAGE_ARCHITECTURE_ANALYSIS.md
â”œâ”€â”€ GENERATION_RESULTS_SUMMARY.md
â”œâ”€â”€ IMPLEMENTATION_PLAN_FOR_APPROVAL.md
â”œâ”€â”€ MIGRATION_PLAN_DATA_OPTIMIZATION.md
â”œâ”€â”€ MONITORING_INTEGRATION.md
â”œâ”€â”€ ONBOARDING_MONITORING.md
â”œâ”€â”€ ONBOARDING_OPTIMIZATION_FINAL_PLAN.md
â”œâ”€â”€ PROGRAM_ROADMAP.md
â”œâ”€â”€ PROJECT_STRUCTURE.md
â”œâ”€â”€ QUESTIONS_CATEGORY_ANALYSIS.md
â”œâ”€â”€ QUESTION_DATABASE_CHANGELOG.md
â”œâ”€â”€ RUNBOOK.md
â”œâ”€â”€ VECTOR_OPTIMIZATION_ANALYSIS.md
â”œâ”€â”€ VECTOR_OPTIMIZATION_QUICK_START.md
â”œâ”€â”€ VECTOR_OPTIMIZATION_README.md
â”œâ”€â”€ global_answer_counter.md
â””â”€â”€ refactoring_summary.md
```

---

## ğŸ“‚ examples/ - Code Examples

```
examples/
â”œâ”€â”€ counter_usage_examples.py
â”œâ”€â”€ optimized_data_access_patterns.py
â””â”€â”€ vector_optimization_examples.py
```

---

## ğŸ“‚ intelligent_question_core/ - Question Database System

```
intelligent_question_core/
â”œâ”€â”€ README.md
â”œâ”€â”€ AI_SYSTEM_INSTRUCTIONS.md
â”œâ”€â”€ CORE_SUMMARY.md
â”œâ”€â”€ FINAL_VALIDATION.md
â”œâ”€â”€ TECHNICAL_EXAMPLES.md
â”œâ”€â”€ integration_guide.md
â”œâ”€â”€ questions_with_elaborations.md
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ ai_model_router.py
â”‚   â”œâ”€â”€ core_api.py
â”‚   â””â”€â”€ search_api_demo.py
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ ai_analysis_config.json
â”‚   â”œâ”€â”€ energy_flow_rules_base.json
â”‚   â””â”€â”€ question_taxonomy_base.json
â””â”€â”€ docs/
    â”œâ”€â”€ ai_analysis_materials.md
    â”œâ”€â”€ core_completion_report.txt
    â”œâ”€â”€ corrected_roadmap.md
    â””â”€â”€ project_roadmap_human_language.md
```

**ĞŸĞ Ğ˜ĞœĞ•Ğ§ĞĞĞ˜Ğ•**: Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² (`selfology_final_sequenced.json`) Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² `prompts/` Ğ¿Ğ°Ğ¿ĞºĞµ (ÑĞ¼. Ğ½Ğ¸Ğ¶Ğµ).

---

## ğŸ“‚ migrations/ - SQL Migrations

```
migrations/
â”œâ”€â”€ 010_create_user_context_stories.sql
â”œâ”€â”€ 011_add_questions_table.sql
â”œâ”€â”€ 012_optimize_answer_analysis_bigfive.sql
â”œâ”€â”€ add_processing_status_tracking.sql
â””â”€â”€ create_user_context_stories.sql
```

---

## ğŸ“‚ prompts/ - AI Prompts & Question Database

```
prompts/
â”œâ”€â”€ GENERATE_MISSING_QUESTIONS_PROMPT.md
â”œâ”€â”€ SELFOLOGY_CONTEXT_FOR_OPUS.md
â”œâ”€â”€ transformation_architect.md
â”œâ”€â”€ all_notion_pages.json
â”œâ”€â”€ all_programs_list.json
â”œâ”€â”€ all_programs_sequenced.json - âœ… Sequenced programs
â”œâ”€â”€ generated_questions_for_programs.json - âœ… AI-generated questions
â”œâ”€â”€ notion_programs.json
â”œâ”€â”€ notion_programs_full.json
â”œâ”€â”€ notion_programs_list.json
â”œâ”€â”€ notion_programs_with_questions.json
â””â”€â”€ program_question_matches.json

**ğŸ”¥ Ğ’ĞĞ–ĞĞ: Production Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²**
ĞĞ•Ğ¢ selfology_final_sequenced.json Ğ² ÑÑ‚Ğ¾Ğ¹ Ğ¿Ğ°Ğ¿ĞºĞµ!
ĞÑƒĞ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ³Ğ´Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ production database.
```

---

## ğŸ“‚ scripts/ - Utility Scripts

### Main Scripts
```
scripts/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ selfology_manager.py - **Bot management CLI**
â”œâ”€â”€ deploy.sh
â”œâ”€â”€ backup-restore.sh
â”œâ”€â”€ migration-manager.sh
â”œâ”€â”€ health_check.py
â”œâ”€â”€ system_diagnostics.py
â”œâ”€â”€ log_viewer.py
â”œâ”€â”€ monitor_dashboard.py
â””â”€â”€ onboarding_monitoring_cli.py
```

### Database Scripts
```
scripts/
â”œâ”€â”€ setup_database.py
â”œâ”€â”€ migrate.py
â”œâ”€â”€ migrate_flags_to_db.py
â”œâ”€â”€ migrate_to_selfology_schema.py
â”œâ”€â”€ cleanup_orphaned_data.py
â”œâ”€â”€ sync_answer_counters.py
â””â”€â”€ sync_questions_json_to_db.py
```

### Question Processing Scripts
```
scripts/
â”œâ”€â”€ generate_questions_for_programs.py - Generate via Claude API
â”œâ”€â”€ integrate_generated_questions.py - Integrate into main DB
â”œâ”€â”€ deduplicate_questions.py
â”œâ”€â”€ deduplicate_questions_simple.py
â”œâ”€â”€ tag_questions_to_programs.py
â”œâ”€â”€ sequence_all_programs.py
â”œâ”€â”€ match_programs_to_questions.py
â”œâ”€â”€ populate_questions_metadata.py
â”œâ”€â”€ add_program_metadata.py
â”œâ”€â”€ update_elaborations.py
â”œâ”€â”€ validate_questions_completeness.py
â””â”€â”€ analyze_questions_metadata.py
```

### Merging Scripts
```
scripts/
â”œâ”€â”€ auto_merge_all_questions.py
â”œâ”€â”€ merge_all_questions.py
â”œâ”€â”€ merge_final_dataset.py
â”œâ”€â”€ merge_generated_questions.py
â”œâ”€â”€ simple_paste_merge.py
â”œâ”€â”€ final_merge_questions.py
â”œâ”€â”€ extract_programs_questions.py
â”œâ”€â”€ extract_questions_from_logs.py
â””â”€â”€ extract_from_outputs.py
```

### Analysis & Reprocessing Scripts
```
scripts/
â”œâ”€â”€ full_reanalysis.py
â”œâ”€â”€ retroactive_analysis.py
â”œâ”€â”€ reanalyze_context_story.py
â”œâ”€â”€ reprocess_answer_14.py
â”œâ”€â”€ reprocess_context_story.py
â”œâ”€â”€ reprocess_old_analyses.py
â”œâ”€â”€ reprocess_single_answer.py
â””â”€â”€ analyze_tagging_gaps.py
```

### Vector & Personality Scripts
```
scripts/
â”œâ”€â”€ create_digital_personality_vectors.py
â”œâ”€â”€ create_digital_personality_vectors_enhanced.py
â”œâ”€â”€ create_vectors_from_analysis.py
â”œâ”€â”€ extract_digital_personality.py
â”œâ”€â”€ generate_full_personality_report.py
â”œâ”€â”€ setup_qdrant.py
â”œâ”€â”€ check_qdrant_status.py
â””â”€â”€ create_chat_messages_collection.py
```

### Testing Scripts
```
scripts/
â”œâ”€â”€ test_claude_api.py
â”œâ”€â”€ test_coach_semantic_search.py
â”œâ”€â”€ test_personality_summary_fix.py
â”œâ”€â”€ test_vector_creation.py
â”œâ”€â”€ test_vectorization_fix.py
â””â”€â”€ validate_test_coverage.py
```

### Enhanced Tables & Data Scripts
```
scripts/
â”œâ”€â”€ create_enhanced_tables.py
â”œâ”€â”€ counter_health_check.py
â”œâ”€â”€ backfill_chat_embeddings.py
â”œâ”€â”€ clean_json_flags.py
â”œâ”€â”€ save_3_blocks_opus.py
â”œâ”€â”€ save_all_blocks.sh
â””â”€â”€ save_generated_blocks.py
```

### Notion Integration
```
scripts/
â””â”€â”€ fetch_notion_programs.py
```

### Question Review
```
scripts/
â”œâ”€â”€ manual_question_review.py
â””â”€â”€ telegram_question_reviewer.py - **Telegram approval workflow**
```

### Debuggers
```
scripts/
â”œâ”€â”€ selfology-debugger.py
â””â”€â”€ setup.py
```

### ğŸ¯ Agile Debug System
```
scripts/agile_debug/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ debug_learning_engine.py
â”œâ”€â”€ monitoring_integration.py
â”œâ”€â”€ question_approval_workflow.py
â”œâ”€â”€ refactoring_agent.py
â”œâ”€â”€ surgical_debugger.py
â””â”€â”€ system_feedback_collector.py

scripts/
â””â”€â”€ agile_debug_system.py - **Master agile debug CLI**
```

### ğŸ› Debug Package
```
scripts/debug/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ ai_system_analyzer.py
â”œâ”€â”€ chat_manager_debugger.py
â”œâ”€â”€ integration_tester.py
â”œâ”€â”€ performance_profiler.py
â”œâ”€â”€ production_guardian.py
â”œâ”€â”€ question_core_validator.py
â”œâ”€â”€ system_diagnostics.py
â””â”€â”€ workflow_optimizer.py

scripts/
â””â”€â”€ debug_agent.py
```

---

## ğŸ“‚ selfology_bot/ - Main Bot Application

```
selfology_bot/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ ai/ - AI Integration
â”‚   â”œâ”€â”€ clients.py - AI clients (Claude, GPT-4, GPT-4o-mini)
â”‚   â””â”€â”€ router.py - Intelligent model selection
â”œâ”€â”€ analysis/ - Onboarding Analysis System
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ai_model_router.py
â”‚   â”œâ”€â”€ analysis_config.py
â”‚   â”œâ”€â”€ analysis_templates.py
â”‚   â”œâ”€â”€ answer_analyzer.py - Two-phase analysis
â”‚   â”œâ”€â”€ embedding_creator.py - Vector creation
â”‚   â”œâ”€â”€ personality_extractor.py
â”‚   â””â”€â”€ trait_extractor.py
â”œâ”€â”€ bot/ - Telegram Bot Interface
â”‚   â”œâ”€â”€ states.py - FSM states
â”‚   â””â”€â”€ handlers/
â”‚       â”œâ”€â”€ profile.py
â”‚       â””â”€â”€ start.py
â”œâ”€â”€ core/ - Core Infrastructure
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ error_handling.py
â”‚   â”œâ”€â”€ logging.py
â”‚   â””â”€â”€ monitoring.py
â”œâ”€â”€ database/ - Database Access
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ digital_personality_dao.py
â”‚   â”œâ”€â”€ onboarding_dao.py
â”‚   â”œâ”€â”€ service.py
â”‚   â””â”€â”€ user_dao.py
â”œâ”€â”€ messages/ - Message Templates
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ constants.py
â”‚   â”œâ”€â”€ formatters.py
â”‚   â”œâ”€â”€ human_names.py
â”‚   â”œâ”€â”€ service.py
â”‚   â”œâ”€â”€ validators.py
â”‚   â””â”€â”€ templates/ru/
â”‚       â”œâ”€â”€ chat.json
â”‚       â”œâ”€â”€ errors.json
â”‚       â”œâ”€â”€ general.json
â”‚       â””â”€â”€ onboarding.json - **Onboarding templates**
â”œâ”€â”€ models/ - SQLAlchemy Models
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ user.py
â”œâ”€â”€ monitoring/ - Monitoring System
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ auto_retry.py
â”‚   â”œâ”€â”€ onboarding_monitor.py
â”‚   â””â”€â”€ telegram_alerting.py
â”œâ”€â”€ services/ - Business Logic
â”‚   â”œâ”€â”€ chat_service.py
â”‚   â”œâ”€â”€ memory_system.py
â”‚   â”œâ”€â”€ personality_service.py
â”‚   â”œâ”€â”€ user_service.py
â”‚   â”œâ”€â”€ vector_service.py
â”‚   â””â”€â”€ onboarding/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ fatigue_detector.py - User fatigue detection
â”‚       â”œâ”€â”€ orchestrator.py - **Onboarding orchestrator**
â”‚       â”œâ”€â”€ question_router.py - Smart Mix algorithm
â”‚       â””â”€â”€ session_reporter.py
â””â”€â”€ soul_architect/ - Soul Architect System
    â”œâ”€â”€ README.md
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ config.py
    â”œâ”€â”€ evolution_tracker.py
    â”œâ”€â”€ models.py
    â”œâ”€â”€ profile_builder.py
    â”œâ”€â”€ service.py
    â”œâ”€â”€ trait_scorer.py
    â””â”€â”€ tests/
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ test_models.py
        â””â”€â”€ test_scorer.py
```

---

## ğŸ“‚ services/ - Top-level Services

```
services/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ assessment_engine.py
â”œâ”€â”€ chat_coach.py - **ChatCoachService with Phase 2-3 components**
â”œâ”€â”€ message_embedding_service.py - OpenAI embeddings
â”œâ”€â”€ statistics_service.py
â”œâ”€â”€ user_profile_service.py
â””â”€â”€ vector_service.py
```

---

## ğŸ“‚ src/ - Clean Architecture Structure

```
src/
â”œâ”€â”€ application/ - Application Layer
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ assessment_dto.py
â”‚   â”‚   â”œâ”€â”€ chat_dto.py
â”‚   â”‚   â”œâ”€â”€ personality_dto.py
â”‚   â”‚   â””â”€â”€ user_dto.py
â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ai_service.py
â”‚   â”‚   â”œâ”€â”€ external_api_service.py
â”‚   â”‚   â”œâ”€â”€ notification_service.py
â”‚   â”‚   â””â”€â”€ vector_service.py
â”‚   â””â”€â”€ use_cases/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ assessment_use_cases.py
â”‚       â”œâ”€â”€ chat_use_cases.py
â”‚       â”œâ”€â”€ personality_use_cases.py
â”‚       â””â”€â”€ user_use_cases.py
â”œâ”€â”€ config/ - Configuration
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ container.py - DI container
â”‚   â””â”€â”€ settings.py
â”œâ”€â”€ domain/ - Domain Layer
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ assessment.py
â”‚   â”‚   â”œâ”€â”€ chat.py
â”‚   â”‚   â”œâ”€â”€ personality.py
â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”œâ”€â”€ exceptions.py
â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ assessment_repository.py
â”‚   â”‚   â”œâ”€â”€ chat_repository.py
â”‚   â”‚   â”œâ”€â”€ personality_repository.py
â”‚   â”‚   â””â”€â”€ user_repository.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ai_routing_service.py
â”‚   â”‚   â”œâ”€â”€ personality_analysis_service.py
â”‚   â”‚   â””â”€â”€ user_tier_service.py
â”‚   â””â”€â”€ value_objects/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ ai_model.py
â”‚       â”œâ”€â”€ telegram_id.py
â”‚       â”œâ”€â”€ traits.py
â”‚       â””â”€â”€ username.py
â”œâ”€â”€ infrastructure/ - Infrastructure Layer
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ connection.py
â”‚   â”‚   â””â”€â”€ models.py
â”‚   â”œâ”€â”€ external_services/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ ai_service.py
â”‚   â””â”€â”€ repositories/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ user_repository.py
â”œâ”€â”€ monitoring/ - Monitoring
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ health_checks.py
â”‚   â””â”€â”€ logging_config.py
â”œâ”€â”€ presentation/ - Presentation Layer
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ telegram/
â”‚       â””â”€â”€ __init__.py
â””â”€â”€ main.py - **Alternative entry point (FastAPI)**
```

---

## ğŸ“‚ static/ - Static Files

```
static/
â””â”€â”€ dashboard.html
```

---

## ğŸ“‚ systems/ - Microservices Architecture

```
systems/
â”œâ”€â”€ base.py
â”œâ”€â”€ analysis_system.py
â”œâ”€â”€ analysis/
â”‚   â”œâ”€â”€ ai_router.py
â”‚   â””â”€â”€ analysis_worker_service.py
â”œâ”€â”€ coach/
â”‚   â”œâ”€â”€ coach_interaction_service.py
â”‚   â””â”€â”€ insight_generator_service.py
â”œâ”€â”€ onboarding/
â”‚   â”œâ”€â”€ question_selection_service.py
â”‚   â””â”€â”€ session_management_service.py
â”œâ”€â”€ profile/
â”‚   â”œâ”€â”€ profile_storage_service.py
â”‚   â””â”€â”€ trait_evolution_service.py
â””â”€â”€ telegram/
    â””â”€â”€ telegram_gateway_service.py
```

---

## ğŸ“‚ telegram_interface/ - Telegram Interface

```
telegram_interface/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ bot.py - **Telegram bot setup (ĞĞ• Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ!)**
â””â”€â”€ handlers/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ chat_handler.py
    â”œâ”€â”€ profile_handler.py
    â””â”€â”€ stats_handler.py
```

---

## ğŸ“‚ tests/ - Testing

```
tests/
â”œâ”€â”€ chaos/
â”‚   â””â”€â”€ chaos_engineering_tests.py
â”œâ”€â”€ e2e/
â”‚   â”œâ”€â”€ test_complete_user_journey.py
â”‚   â””â”€â”€ test_onboarding_flow.py
â”œâ”€â”€ integration/
â”‚   â””â”€â”€ test_event_bus_with_outbox.py
â”œâ”€â”€ load/
â”‚   â””â”€â”€ k6_load_test.js
â””â”€â”€ performance/
    â””â”€â”€ load-test.js
```

---

## ğŸ¯ ĞšĞ›Ğ®Ğ§Ğ•Ğ’Ğ«Ğ• Ğ¤ĞĞ™Ğ›Ğ« Ğ˜ ĞŸĞĞŸĞšĞ˜

### ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
1. **`selfology_controller.py`** - Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ entry point
2. **`run-local.sh`** - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ñ hot reload
3. **`telegram_interface/bot.py`** - Telegram bot interface (Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ)

### ğŸ§  Core Systems
1. **`selfology_bot/services/onboarding/orchestrator.py`** - Onboarding orchestration
2. **`services/chat_coach.py`** - Phase 2-3 AI Coach with 6 components
3. **`selfology_bot/analysis/answer_analyzer.py`** - Two-phase analysis
4. **`coach/components/`** - 6 Phase 2-3 components

### ğŸ“Š Question Database
1. **`prompts/all_programs_sequenced.json`** - Sequenced programs
2. **`prompts/generated_questions_for_programs.json`** - AI-generated questions
3. **`intelligent_question_core/api/core_api.py`** - Question API
4. **Ğ“Ğ´Ğµ production database `selfology_final_sequenced.json`?** âš ï¸

### ğŸ”§ Management Tools
1. **`scripts/selfology_manager.py`** - Bot management CLI
2. **`scripts/agile_debug_system.py`** - Agile debug master
3. **`scripts/telegram_question_reviewer.py`** - Question approval workflow

### ğŸ“ Documentation
1. **`CLAUDE.md`** - Claude Code instructions (THIS FILE!)
2. **`README.md`** - Main documentation
3. **`coach/README.md`** - Phase 2-3 documentation
4. **`docs/`** - All detailed documentation

---

## ğŸ“Š Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ğ¿ĞºĞ¸
- **15 top-level directories**
- **~500+ Python files**
- **~100+ Markdown documentation files**
- **~50+ configuration files**

### Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ ĞºĞ¾Ğ´Ğ° (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ğ¾)
- `selfology_bot/`: ~50 files
- `scripts/`: ~100+ files
- `src/`: ~40 files (Clean Architecture)
- `coach/components/`: 6 Phase 2-3 components
- `tests/`: ~5 test files

### Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- Root MD files: ~40
- `docs/`: ~25 files
- `coach/`: ~10 MD files
- `intelligent_question_core/docs/`: ~4 files

---

## âš ï¸ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ«Ğ• Ğ—ĞĞœĞ•Ğ§ĞĞĞ˜Ğ¯

### ğŸ”´ Ğ’ĞĞ–ĞĞ: ĞĞ°Ğ¹Ñ‚Ğ¸ production database!
```
âŒ ĞĞ• ĞĞĞ™Ğ”Ğ•Ğ: prompts/selfology_final_sequenced.json
âœ… Ğ•Ğ¡Ğ¢Ğ¬: prompts/all_programs_sequenced.json
âœ… Ğ•Ğ¡Ğ¢Ğ¬: prompts/generated_questions_for_programs.json

ğŸ” ĞĞ£Ğ–ĞĞ: ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ³Ğ´Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° Ğ½Ğ° 1513 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²!
```

### ğŸ“ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸
1. `intelligent_question_core/data/` (ÑƒĞ¿Ğ¾Ğ¼ÑĞ½ÑƒÑ‚Ğ¾ Ğ² CLAUDE.md)
2. ĞĞµ Ğ·Ğ°ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‡ĞµĞ½ Ğ² git?
3. ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ½Ğ° production ÑĞµÑ€Ğ²ĞµÑ€Ğµ?

---

## ğŸ¯ ĞĞĞ’Ğ˜Ğ“ĞĞ¦Ğ˜Ğ¯ ĞŸĞ ĞŸĞ ĞĞ•ĞšĞ¢Ğ£

### Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼
```bash
./run-local.sh                              # Ğ—Ğ°Ğ¿ÑƒÑĞº
python scripts/selfology_manager.py status  # Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
python scripts/selfology_manager.py errors  # ĞÑˆĞ¸Ğ±ĞºĞ¸
```

### Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸
```bash
python scripts/generate_questions_for_programs.py  # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ
python scripts/integrate_generated_questions.py    # Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
python scripts/sequence_all_programs.py            # Ğ¡ĞµĞºĞ²ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```

### Agile Debug
```bash
python scripts/selfology_agile_master.py overview      # ĞĞ±Ğ·Ğ¾Ñ€
python scripts/telegram_question_reviewer.py           # Approval workflow
```

### Testing
```bash
pytest tests/e2e/test_onboarding_flow.py    # E2E tests
pytest tests/integration/                    # Integration tests
```

---

**Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾**: 2025-01-08
**ĞĞ²Ñ‚Ğ¾Ñ€**: Claude Code
**Ğ’ĞµÑ€ÑĞ¸Ñ**: 1.0
