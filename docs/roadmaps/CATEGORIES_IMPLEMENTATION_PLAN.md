# üéØ –ü–ª–∞–Ω –í–Ω–µ–¥—Ä–µ–Ω–∏—è –ö–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –ë–∞–∑—É –í–æ–ø—Ä–æ—Å–æ–≤

**–î–∞—Ç–∞**: 6 –æ–∫—Ç—è–±—Ä—è 2025
**–ë–∞–∑–∞**: selfology_intelligent_core_complete.json (1331 –≤–æ–ø—Ä–æ—Å)

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –ë–∞–∑–∞ –í–æ–ø—Ä–æ—Å–æ–≤
- **–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤**: 1331
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**:
  - `ai_generation_v2_2025`: 638 (–Ω–æ–≤—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
  - `deep_understanding_v3`: 375 (—Å—Ç–∞—Ä—ã–µ –≥–ª—É–±–æ–∫–∏–µ)
  - `onboarding_v7`: 318 (–æ–Ω–±–æ—Ä–¥–∏–Ω–≥)

### –°—Ç–∞—Ç—É—Å –ö–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚ùå **–ü–æ–ª–µ "category" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** –≤–æ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö
- ‚úÖ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –≤–∏–¥–Ω—ã** –ø–æ domain + depth_level
- ‚úÖ **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±–æ–≥–∞—Ç—ã–µ**: domain, depth_level, journey_stage, energy_dynamic

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (—Ç–æ–ø-8 –¥–æ–º–µ–Ω–æ–≤)

| –î–æ–º–µ–Ω | –í–æ–ø—Ä–æ—Å–æ–≤ | % |
|-------|----------|---|
| IDENTITY | 758 | 56.9% |
| RELATIONSHIPS | 121 | 9.1% |
| EMOTIONS | 100 | 7.5% |
| VALUES | 74 | 5.6% |
| GOALS | 63 | 4.7% |
| FEARS | 50 | 3.8% |
| GROWTH | 49 | 3.7% |
| WORK | 36 | 2.7% |

### –ì–ª—É–±–∏–Ω–∞

| –£—Ä–æ–≤–µ–Ω—å | –í–æ–ø—Ä–æ—Å–æ–≤ | % |
|---------|----------|---|
| SURFACE | 52 | 3.9% |
| CONSCIOUS | 838 | 63.0% |
| EDGE | 249 | 18.7% |
| SHADOW | 120 | 9.0% |
| CORE | 72 | 5.4% |

**‚úÖ –û–¢–õ–ò–ß–ù–û**: –ï—Å—Ç—å –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –≥–ª—É–±–∏–Ω—ã!

### –≠–Ω–µ—Ä–≥–∏—è

| –¢–∏–ø | –í–æ–ø—Ä–æ—Å–æ–≤ | % |
|-----|----------|---|
| NEUTRAL | 698 | 52.4% |
| HEAVY | 234 | 17.6% |
| PROCESSING | 187 | 14.0% |
| HEALING | 161 | 12.1% ‚Üê –í–ê–ñ–ù–û –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ |
| OPENING | 51 | 3.8% |

**‚úÖ –•–û–†–û–®–û**: 161 HEALING –≤–æ–ø—Ä–æ—Å –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –ø–æ—Å–ª–µ HEAVY!

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ö–ê–¢–ï–ì–û–†–ò–ô

### –í–∞—Ä–∏–∞–Ω—Ç 1Ô∏è‚É£: –ü–æ –î–æ–º–µ–Ω–∞–º (12 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)

**–û—Å–Ω–æ–≤–∞**: –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ `domain` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

```
CATEGORIES_BY_DOMAIN = {
    "IDENTITY": {
        "display_name": "–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –∏ –°–∞–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ",
        "description": "–ö—Ç–æ —è? –ú–æ–∏ —Ä–æ–ª–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä, —É–±–µ–∂–¥–µ–Ω–∏—è",
        "icon": "üë§",
        "questions": 758
    },
    "RELATIONSHIPS": {
        "display_name": "–û—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –°–≤—è–∑–∏",
        "description": "–ë–ª–∏–∑–æ—Å—Ç—å, –ª—é–±–æ–≤—å, —Å–µ–º—å—è, –≥—Ä–∞–Ω–∏—Ü—ã",
        "icon": "‚ù§Ô∏è",
        "questions": 121
    },
    "EMOTIONS": {
        "display_name": "–≠–º–æ—Ü–∏–∏ –∏ –ß—É–≤—Å—Ç–≤–∞",
        "description": "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å",
        "icon": "üí≠",
        "questions": 100
    },
    "VALUES": {
        "display_name": "–¶–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ü—Ä–∏–Ω—Ü–∏–ø—ã",
        "description": "–ß—Ç–æ –¥–ª—è –º–µ–Ω—è –≤–∞–∂–Ω–æ? –ú–æ–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã",
        "icon": "üíé",
        "questions": 74
    },
    "GOALS": {
        "display_name": "–¶–µ–ª–∏ –∏ –°—Ç—Ä–µ–º–ª–µ–Ω–∏—è",
        "description": "–ö—É–¥–∞ —è –∏–¥—É? –ú–æ–∏ –º–µ—á—Ç—ã –∏ –ø–ª–∞–Ω—ã",
        "icon": "üéØ",
        "questions": 63
    },
    "FEARS": {
        "display_name": "–°—Ç—Ä–∞—Ö–∏ –∏ –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è",
        "description": "–ß—Ç–æ –º–µ–Ω—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç? –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–∞—Ö–∞–º–∏",
        "icon": "üò∞",
        "questions": 50
    },
    "GROWTH": {
        "display_name": "–†–æ—Å—Ç –∏ –†–∞–∑–≤–∏—Ç–∏–µ",
        "description": "–ö–∞–∫ —è –º–µ–Ω—è—é—Å—å? –ú–æ–π –ø—É—Ç—å —Ä–∞–∑–≤–∏—Ç–∏—è",
        "icon": "üå±",
        "questions": 49
    },
    "WORK": {
        "display_name": "–†–∞–±–æ—Ç–∞ –∏ –ü—Ä–∏–∑–≤–∞–Ω–∏–µ",
        "description": "–ö–∞—Ä—å–µ—Ä–∞, –ø—Ä–æ—Ñ–µ—Å—Å–∏—è, —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è",
        "icon": "üíº",
        "questions": 36
    },
    ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã
}
```

**–í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `depth_level`
- SURFACE ‚Üí CONSCIOUS ‚Üí EDGE ‚Üí SHADOW ‚Üí CORE

### –í–∞—Ä–∏–∞–Ω—Ç 2Ô∏è‚É£: –ü–æ –ì–ª—É–±–∏–Ω–µ (5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)

**–û—Å–Ω–æ–≤–∞**: –∏—Å–ø–æ–ª—å–∑—É–µ–º `depth_level` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

```
CATEGORIES_BY_DEPTH = {
    "SURFACE": {
        "display_name": "–ü–µ—Ä–≤–æ–µ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ",
        "description": "–õ–µ–≥–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—É—Ç–∏",
        "level": 1,
        "questions": 52
    },
    "CONSCIOUS": {
        "display_name": "–û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ",
        "description": "–†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–µ–±—è",
        "level": 2,
        "questions": 838
    },
    "EDGE": {
        "display_name": "–ì—Ä–∞–Ω–∏—Ü–∞ –ö–æ–º—Ñ–æ—Ä—Ç–∞",
        "description": "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å —Å —Å–æ–±–æ–π, –≤—ã—Ö–æ–¥ –∏–∑ –∑–æ–Ω—ã –∫–æ–º—Ñ–æ—Ä—Ç–∞",
        "level": 3,
        "questions": 249
    },
    "SHADOW": {
        "display_name": "–¢–µ–Ω–µ–≤–∞—è –†–∞–±–æ—Ç–∞",
        "description": "–°–∫—Ä—ã—Ç—ã–µ —á–∞—Å—Ç–∏, —Ç—Ä—É–¥–Ω—ã–µ —Ç–µ–º—ã",
        "level": 4,
        "questions": 120
    },
    "CORE": {
        "display_name": "–ì–ª—É–±–∏–Ω–Ω–∞—è –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è",
        "description": "–°–∞–º—ã–µ –≥–ª—É–±–æ–∫–∏–µ –∏—Å—Ç–∏–Ω—ã –æ —Å–µ–±–µ",
        "level": 5,
        "questions": 72
    }
}
```

**–í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ `domain`

### –í–∞—Ä–∏–∞–Ω—Ç 3Ô∏è‚É£: –ì–ò–ë–†–ò–î–ù–´–ô (–†–ï–ö–û–ú–ï–ù–î–£–Æ! ‚≠ê)

**–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è**: Domain ‚Üí Depth

```json
{
  "category": "EMOTIONS",
  "subcategory": "EDGE",
  "display_name": "–≠–º–æ—Ü–∏–∏: –ì—Ä–∞–Ω–∏—Ü–∞ –ö–æ–º—Ñ–æ—Ä—Ç–∞",
  "full_path": "EMOTIONS > EDGE",
  "category_position": 15,
  "total_in_category": 50
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–µ–º—É (–¥–æ–º–µ–Ω)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ—Ç –ø–æ –≥–ª—É–±–∏–Ω–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–µ –ø—Ä—ã–≥–∞–µ—Ç –ø–æ —É—Ä–æ–≤–Ω—è–º)
- ‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –ø–æ 10-50 –≤–æ–ø—Ä–æ—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ EMOTIONS**:
```
1. EMOTIONS_SURFACE (1 –≤–æ–ø—Ä–æ—Å)
   "–ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —á–∞—â–µ –≤—Å–µ–≥–æ?"

2. EMOTIONS_CONSCIOUS (13 –≤–æ–ø—Ä–æ—Å–æ–≤)
   "–ì–¥–µ –≤ —Ç–µ–ª–µ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —Ä–∞–¥–æ—Å—Ç—å?"
   "–ö–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –¥—ã—Ö–∞–Ω–∏–µ –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç—Ä–µ–≤–æ–≥–∞?"
   ...

3. EMOTIONS_EDGE (24 –≤–æ–ø—Ä–æ—Å–∞)
   "–ö–æ–≥–¥–∞ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å '—è –≤ –ø–æ—Ä—è–¥–∫–µ' - –∫–∞–∫ —á–∞—Å—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–¥–∞?"
   "–ö–∞–∫—É—é —ç–º–æ—Ü–∏—é —Ç—Ä—É–¥–Ω–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏–∑–Ω–∞—Ç—å –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π?"
   ...

4. EMOTIONS_SHADOW (10 –≤–æ–ø—Ä–æ—Å–æ–≤)
   "–ö–∞–∫—É—é —ç–º–æ—Ü–∏—é —Ç—ã –ø–æ–¥–∞–≤–ª—è–µ—à—å —Ç–∞–∫ –¥–æ–ª–≥–æ —á—Ç–æ –æ–Ω–∞ —Å—Ç–∞–ª–∞ —á–∞—Å—Ç—å—é —Ç–µ–±—è?"
   ...

5. EMOTIONS_CORE (2 –≤–æ–ø—Ä–æ—Å–∞)
   "–ö–µ–º –±—ã —Ç—ã –±—ã–ª –µ—Å–ª–∏ –ø–æ–∑–≤–æ–ª–∏—à—å —Å–µ–±–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –≤—Å—ë?"
```

### –í–∞—Ä–∏–∞–Ω—Ç 4Ô∏è‚É£: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ü—Ä–æ–≥—Ä–∞–º–º—ã

**–ö—É—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ –ø–æ–¥–±–æ—Ä–∫–∏** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

```
SPECIAL_PROGRAMS = {
    "HEALING_JOURNEY": {
        "display_name": "üå∏ –ü—É—Ç—å –ò—Å—Ü–µ–ª–µ–Ω–∏—è",
        "description": "–ü—Ä–æ–≥—Ä–∞–º–º–∞ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è",
        "questions": [–≤—Å–µ HEALING –≤–æ–ø—Ä–æ—Å—ã = 161],
        "duration": "7 –¥–Ω–µ–π",
        "questions_per_day": 23
    },
    "SHADOW_WORK": {
        "display_name": "üåë –¢–µ–Ω–µ–≤–∞—è –†–∞–±–æ—Ç–∞",
        "description": "–ì–ª—É–±–æ–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö —á–∞—Å—Ç–µ–π —Å–µ–±—è",
        "questions": [–≤—Å–µ SHADOW + CORE = 192],
        "duration": "14 –¥–Ω–µ–π",
        "questions_per_day": 14
    },
    "EDGE_BREAKTHROUGH": {
        "display_name": "üî• –ü—Ä–æ—Ä—ã–≤ –ì—Ä–∞–Ω–∏—Ü",
        "description": "–í—ã—Ö–æ–¥ –∏–∑ –∑–æ–Ω—ã –∫–æ–º—Ñ–æ—Ä—Ç–∞",
        "questions": [–≤—Å–µ EDGE = 249],
        "duration": "21 –¥–µ–Ω—å",
        "questions_per_day": 12
    },
    "EMOTIONAL_MASTERY": {
        "display_name": "üí≠ –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ –≠–º–æ—Ü–∏–π",
        "description": "–ü–æ–ª–Ω—ã–π –ø—É—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞",
        "questions": [EMOTIONS domain all depths = 100],
        "duration": "10 –¥–Ω–µ–π",
        "questions_per_day": 10
    },
    "RELATIONSHIP_DEEP_DIVE": {
        "display_name": "‚ù§Ô∏è –ì–ª—É–±–∏–Ω–∞ –û—Ç–Ω–æ—à–µ–Ω–∏–π",
        "description": "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å —Å–æ–±–æ–π –∏ –¥—Ä—É–≥–∏–º–∏",
        "questions": [RELATIONSHIPS domain all depths = 121],
        "duration": "12 –¥–Ω–µ–π",
        "questions_per_day": 10
    }
}
```

---

## üõ†Ô∏è –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø

### –≠—Ç–∞–ø 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (2-3 —á–∞—Å–∞)

**–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç** `scripts/add_categories_to_questions.py`:

```python
#!/usr/bin/env python3
"""
–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è category –≤ –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å
"""
import json
from pathlib import Path

def add_categories(questions: list) -> list:
    """–î–æ–±–∞–≤–ª—è–µ—Ç category metadata –∫ –∫–∞–∂–¥–æ–º—É –≤–æ–ø—Ä–æ—Å—É"""

    # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ domain + depth
    categories = {}

    for q in questions:
        domain = q['classification']['domain']
        depth = q['classification']['depth_level']

        cat_key = f"{domain}_{depth}"

        if cat_key not in categories:
            categories[cat_key] = {
                'questions': [],
                'domain': domain,
                'depth': depth
            }

        categories[cat_key]['questions'].append(q)

    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å—ã –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    depth_order = ['SURFACE', 'CONSCIOUS', 'EDGE', 'SHADOW', 'CORE']

    updated_questions = []

    for cat_key in sorted(categories.keys()):
        cat_data = categories[cat_key]
        cat_questions = cat_data['questions']

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —ç–Ω–µ—Ä–≥–∏–∏: OPENING ‚Üí NEUTRAL ‚Üí PROCESSING ‚Üí HEAVY ‚Üí HEALING
        energy_order = {
            'OPENING': 1,
            'NEUTRAL': 2,
            'PROCESSING': 3,
            'HEAVY': 4,
            'HEALING': 5
        }

        cat_questions.sort(
            key=lambda x: energy_order.get(
                x['classification']['energy_dynamic'],
                99
            )
        )

        # –î–æ–±–∞–≤–ª—è–µ–º category metadata
        for idx, q in enumerate(cat_questions, 1):
            q['category'] = {
                'name': cat_data['domain'],
                'subcategory': cat_data['depth'],
                'display_name': f"{cat_data['domain']}: {cat_data['depth']}",
                'position_in_category': idx,
                'total_in_category': len(cat_questions)
            }

            updated_questions.append(q)

    return updated_questions

def main():
    # –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑—É
    input_file = Path('intelligent_question_core/data/selfology_intelligent_core_complete.json')

    with open(input_file, 'r', encoding='utf-8') as f:
        data = json.load(f)

    print(f"üìñ –ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(data['questions'])} –≤–æ–ø—Ä–æ—Å–æ–≤")

    # –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    updated = add_categories(data['questions'])

    # –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    data['questions'] = updated
    data['metadata']['version'] = '4.0'
    data['metadata']['last_updated'] = datetime.now().isoformat()
    data['metadata']['categories_added'] = True

    # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
    output_file = Path('intelligent_question_core/data/selfology_intelligent_core_categorized.json')

    with open(output_file, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

    print(f"‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ {output_file}")
    print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö {len(updated)} –≤–æ–ø—Ä–æ—Å–æ–≤")

if __name__ == '__main__':
    from datetime import datetime
    main()
```

**–ó–∞–ø—É—Å—Ç–∏—Ç—å**:
```bash
python3 scripts/add_categories_to_questions.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `selfology_intelligent_core_categorized.json` —Å category metadata

---

### –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö (1-2 —á–∞—Å–∞)

**SQL –º–∏–≥—Ä–∞—Ü–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ `questions_metadata`:

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
ALTER TABLE selfology.questions_metadata
ADD COLUMN IF NOT EXISTS category VARCHAR(50),
ADD COLUMN IF NOT EXISTS subcategory VARCHAR(50),
ADD COLUMN IF NOT EXISTS category_position INTEGER,
ADD COLUMN IF NOT EXISTS category_display_name VARCHAR(100);

-- –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
CREATE INDEX IF NOT EXISTS idx_category
ON selfology.questions_metadata(category);

CREATE INDEX IF NOT EXISTS idx_subcategory
ON selfology.questions_metadata(subcategory);

CREATE INDEX IF NOT EXISTS idx_category_position
ON selfology.questions_metadata(category, category_position);

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
COMMENT ON COLUMN selfology.questions_metadata.category IS '–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (domain)';
COMMENT ON COLUMN selfology.questions_metadata.subcategory IS '–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è (depth_level)';
COMMENT ON COLUMN selfology.questions_metadata.category_position IS '–ü–æ–∑–∏—Ü–∏—è –≤–æ–ø—Ä–æ—Å–∞ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏';
```

**–°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** `scripts/sync_categories_to_db.py`:

```python
#!/usr/bin/env python3
"""
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç category metadata –∏–∑ JSON –≤ PostgreSQL
"""
import asyncio
import json
from pathlib import Path
from selfology_bot.database import DatabaseService

async def sync_categories():
    """–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –ë–î"""

    # –ó–∞–≥—Ä—É–∑–∏—Ç—å categorized JSON
    with open('intelligent_question_core/data/selfology_intelligent_core_categorized.json', 'r') as f:
        data = json.load(f)

    db = DatabaseService(...)  # –≤–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    await db.initialize()

    async with db.get_connection() as conn:
        updated = 0

        for q in data['questions']:
            qid = q['id']
            cat = q.get('category', {})

            if not cat:
                continue

            await conn.execute("""
                UPDATE selfology.questions_metadata
                SET
                    category = $1,
                    subcategory = $2,
                    category_position = $3,
                    category_display_name = $4
                WHERE json_id = $5
            """,
                cat.get('name'),
                cat.get('subcategory'),
                cat.get('position_in_category'),
                cat.get('display_name'),
                qid
            )

            updated += 1

            if updated % 100 == 0:
                print(f"  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ {updated} –≤–æ–ø—Ä–æ—Å–æ–≤...")

    await db.close()

    print(f"\nüéâ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ {updated} –≤–æ–ø—Ä–æ—Å–æ–≤!")

if __name__ == '__main__':
    asyncio.run(sync_categories())
```

---

### –≠—Ç–∞–ø 3: CategoryManager (2-3 —á–∞—Å–∞)

**–°–æ–∑–¥–∞—Ç—å** `systems/onboarding/category_manager.py`:

```python
"""
CategoryManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
"""
from typing import List, Optional, Dict
from dataclasses import dataclass

@dataclass
class Category:
    """–ö–∞—Ç–µ–≥–æ—Ä–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤"""
    name: str
    display_name: str
    description: str
    icon: str
    total_questions: int
    available_depths: List[str]

@dataclass
class CategoryProgress:
    """–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    category: str
    subcategory: str
    answered: int
    total: int
    last_question_position: int

class CategoryManager:
    """–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏"""

    CATEGORIES = {
        'EMOTIONS': Category(
            name='EMOTIONS',
            display_name='–≠–º–æ—Ü–∏–∏ –∏ –ß—É–≤—Å—Ç–≤–∞',
            description='–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å',
            icon='üí≠',
            total_questions=100,
            available_depths=['SURFACE', 'CONSCIOUS', 'EDGE', 'SHADOW', 'CORE']
        ),
        'RELATIONSHIPS': Category(...),
        # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    }

    def __init__(self, db_service):
        self.db = db_service

    async def get_available_categories(
        self,
        user_id: int
    ) -> List[Category]:
        """–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        # –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞
        return list(self.CATEGORIES.values())

    async def start_category(
        self,
        user_id: int,
        category_name: str,
        session_id: int
    ) -> Optional[Dict]:
        """–ù–∞—á–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é - –≤–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å"""

        # –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        async with self.db.get_connection() as conn:
            question = await conn.fetchrow("""
                SELECT json_id, category, subcategory, category_position
                FROM selfology.questions_metadata
                WHERE category = $1
                AND category_position = 1
                ORDER BY
                    CASE subcategory
                        WHEN 'SURFACE' THEN 1
                        WHEN 'CONSCIOUS' THEN 2
                        WHEN 'EDGE' THEN 3
                        WHEN 'SHADOW' THEN 4
                        WHEN 'CORE' THEN 5
                    END
                LIMIT 1
            """, category_name)

            return dict(question) if question else None

    async def get_next_question_in_category(
        self,
        user_id: int,
        category_name: str,
        current_position: int,
        session_id: int
    ) -> Optional[Dict]:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""

        async with self.db.get_connection() as conn:
            # –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            question = await conn.fetchrow("""
                SELECT qm.json_id, qm.category, qm.subcategory, qm.category_position
                FROM selfology.questions_metadata qm
                LEFT JOIN selfology.user_answers_new ua
                    ON ua.question_json_id = qm.json_id
                    AND ua.session_id = $3
                WHERE qm.category = $1
                AND qm.category_position > $2
                AND ua.id IS NULL
                ORDER BY qm.category_position
                LIMIT 1
            """, category_name, current_position, session_id)

            return dict(question) if question else None

    async def get_category_progress(
        self,
        user_id: int,
        category_name: str,
        session_id: int
    ) -> CategoryProgress:
        """–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""

        async with self.db.get_connection() as conn:
            stats = await conn.fetchrow("""
                WITH category_questions AS (
                    SELECT json_id, category_position
                    FROM selfology.questions_metadata
                    WHERE category = $1
                ),
                answered AS (
                    SELECT COUNT(*) as count,
                           MAX(qm.category_position) as last_position
                    FROM selfology.user_answers_new ua
                    JOIN selfology.questions_metadata qm
                        ON ua.question_json_id = qm.json_id
                    WHERE ua.session_id = $2
                    AND qm.category = $1
                )
                SELECT
                    (SELECT COUNT(*) FROM category_questions) as total,
                    COALESCE(answered.count, 0) as answered,
                    COALESCE(answered.last_position, 0) as last_position
                FROM answered
            """, category_name, session_id)

            return CategoryProgress(
                category=category_name,
                subcategory='',  # TODO: –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
                answered=stats['answered'],
                total=stats['total'],
                last_question_position=stats['last_position']
            )
```

---

### –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–∏—Ç—å QuestionRouter (1-2 —á–∞—Å–∞)

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π** –≤ `systems/onboarding/question_selection_service.py`:

```python
class QuestionRouter:
    """–†–æ—É—Ç–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π"""

    def __init__(self, db_service):
        self.db = db_service
        self.category_manager = CategoryManager(db_service)

    async def get_next_question(
        self,
        user_id: int,
        session_id: int,
        mode: str = 'auto'  # 'auto', 'category', 'smart_mix'
    ) -> Optional[Dict]:
        """
        –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å

        Args:
            mode:
                - 'auto': –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä (Smart Mix)
                - 'category': –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                - 'smart_mix': —É–º–Ω–∞—è —Å–º–µ—Å—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        """

        if mode == 'category':
            # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
            return await self._get_next_from_active_category(user_id, session_id)

        elif mode == 'smart_mix':
            # –£–º–Ω–∞—è —Å–º–µ—Å—å: –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ–º –¥–æ–º–µ–Ω—ã –∏ –≥–ª—É–±–∏–Ω—É
            return await self._smart_mix_selection(user_id, session_id)

        else:  # 'auto'
            # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É
            return await self._auto_selection(user_id, session_id)

    async def _get_next_from_active_category(
        self,
        user_id: int,
        session_id: int
    ) -> Optional[Dict]:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –∏–∑ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""

        # –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async with self.db.get_connection() as conn:
            active = await conn.fetchrow("""
                SELECT category, last_question_position
                FROM selfology.user_category_progress
                WHERE user_id = $1 AND session_id = $2
                AND completed_at IS NULL
            """, user_id, session_id)

            if not active:
                return None

            # –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
            return await self.category_manager.get_next_question_in_category(
                user_id,
                active['category'],
                active['last_question_position'],
                session_id
            )
```

---

### –≠—Ç–∞–ø 5: UI –≤ Telegram –ë–æ—Ç–µ (2-3 —á–∞—Å–∞)

**–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏** –≤ `selfology_bot/bot/handlers/onboarding.py`:

```python
# –ö–æ–º–∞–Ω–¥–∞ /categories - –ø–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
@router.message(Command("categories"))
async def show_categories(message: Message, state: FSMContext):
    """–ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""

    user_id = message.from_user.id

    # –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    categories = await category_manager.get_available_categories(user_id)

    # –°–æ–∑–¥–∞—Ç—å –∫–Ω–æ–ø–∫–∏
    keyboard = []
    for cat in categories:
        progress = await category_manager.get_category_progress(
            user_id,
            cat.name,
            session_id
        )

        button_text = f"{cat.icon} {cat.display_name} ({progress.answered}/{progress.total})"
        keyboard.append([InlineKeyboardButton(
            text=button_text,
            callback_data=f"category_{cat.name}"
        )])

    await message.answer(
        "üìö –í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:\n\n"
        "–ö–∞–∂–¥–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –≤–µ–¥–µ—Ç —Ç–µ–±—è –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–º.",
        reply_markup=InlineKeyboardMarkup(inline_keyboard=keyboard)
    )

# Callback –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
@router.callback_query(F.data.startswith("category_"))
async def select_category(callback: CallbackQuery, state: FSMContext):
    """–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""

    category_name = callback.data.replace("category_", "")
    user_id = callback.from_user.id

    # –ù–∞—á–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    question = await category_manager.start_category(
        user_id,
        category_name,
        session_id
    )

    if question:
        await state.update_data(active_category=category_name)

        # –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
        await send_question(callback.message, question)
    else:
        await callback.answer("–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—É—Å—Ç–∞ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")

# –ö–æ–º–∞–Ω–¥–∞ /progress - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
@router.message(Command("progress"))
async def show_progress(message: Message):
    """–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"""

    user_id = message.from_user.id

    progress_text = "üìä –¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å:\n\n"

    for cat_name in CATEGORY_NAMES:
        progress = await category_manager.get_category_progress(
            user_id,
            cat_name,
            session_id
        )

        percent = (progress.answered / progress.total * 100) if progress.total > 0 else 0
        bar = "‚ñà" * int(percent / 10) + "‚ñë" * (10 - int(percent / 10))

        progress_text += (
            f"{CATEGORIES[cat_name].icon} {CATEGORIES[cat_name].display_name}\n"
            f"{bar} {progress.answered}/{progress.total} ({percent:.0f}%)\n\n"
        )

    await message.answer(progress_text)
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –í–ù–ï–î–†–ï–ù–ò–Ø

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–î–µ–Ω—å 1)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `add_categories_to_questions.py`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç, –ø–æ–ª—É—á–∏—Ç—å `selfology_intelligent_core_categorized.json`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏–º–µ—é—Ç category metadata
- [ ] –°–æ–∑–¥–∞—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –ë–î
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∫ PostgreSQL

### –§–∞–∑–∞ 2: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–î–µ–Ω—å 1-2)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `sync_categories_to_db.py`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: SELECT * FROM questions_metadata WHERE category IS NOT NULL
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `user_category_progress` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –§–∞–∑–∞ 3: Backend (–î–µ–Ω—å 2-3)
- [ ] –°–æ–∑–¥–∞—Ç—å `CategoryManager` class
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è CategoryManager
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `QuestionRouter` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –§–∞–∑–∞ 4: Frontend (–î–µ–Ω—å 3-4)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/categories`
- [ ] –î–æ–±–∞–≤–∏—Ç—å callback –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/progress`
- [ ] –î–æ–±–∞–≤–∏—Ç—å inline –∫–Ω–æ–ø–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI –≤ Telegram

### –§–∞–∑–∞ 5: –î–µ–ø–ª–æ–π –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–î–µ–Ω—å 4-5)
- [ ] –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –°–±–æ—Ä —Ñ–∏–¥–±–µ–∫–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ú–µ—Ç—Ä–∏–∫–∏ –£—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –¶–µ–ª—å |
|---------|----|----|------|
| –û—Ç–≤–µ—Ç–æ–≤ –∑–∞ —Å–µ—Å—Å–∏—é | 3-5 | 10-15 | +200% |
| Completion rate | 20% | 60% | +200% |
| –í—Ä–µ–º—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ | 5 –º–∏–Ω | 20 –º–∏–Ω | +300% |
| –í–æ–∑–≤—Ä–∞—Ç–æ–≤ –Ω–∞ —Å–ª–µ–¥. –¥–µ–Ω—å | 15% | 40% | +167% |

### –ü–æ–ª—å–∑–∞ –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **–Ø—Å–Ω–æ—Å—Ç—å**: –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–∞—è —Ç–µ–º–∞ –∏—Å—Å–ª–µ–¥—É–µ—Ç—Å—è
- ‚úÖ **–ü—Ä–æ–≥—Ä–µ—Å—Å**: –≤–∏–¥–∏–º–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –≤—ã–±–æ—Ä —Ç–µ–º—ã –∫–æ—Ç–æ—Ä–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ —Å–µ–π—á–∞—Å
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≥–ª—É–±–ª–µ–Ω–∏–µ –±–µ–∑ —à–æ–∫–∞

### –ü–æ–ª—å–∑–∞ –¥–ª—è –°–∏—Å—Ç–µ–º—ã
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∞–∑–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∫–∏–µ —Ç–µ–º—ã –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã
- ‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥**: "–ü—Ä–æ–π–¥–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ –∑–∞ 10 –¥–Ω–µ–π!"

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

**–•–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å categorized –≤–µ—Ä—Å–∏—é
python3 scripts/add_categories_to_questions.py

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é
docker exec n8n-postgres psql -U n8n -d n8n -f migrations/add_categories.sql

# 3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –ë–î
python3 scripts/sync_categories_to_db.py

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
python3 -m pytest tests/test_category_manager.py

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
./run-local.sh
```

**–ì–æ—Ç–æ–≤ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã?** üí™
