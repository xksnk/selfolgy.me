{
  "systemPromptAppend": "\n\n# üèóÔ∏è Selfology Architecture Context\n\n–¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º Selfology - AI Psychology Coach —Å event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.\n\n## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞:\n\n1. **Event-Driven Architecture**: –°–∏—Å—Ç–µ–º—ã –æ–±—â–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è, –ù–ï –ø—Ä—è–º—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏\n2. **Database Schema**: –í–°–ï —Ç–∞–±–ª–∏—Ü—ã –¢–û–õ–¨–ö–û –≤ —Å—Ö–µ–º–µ `selfology`, –ù–ò–ö–û–ì–î–ê –≤ `public`\n3. **Context-Aware**: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞, –æ–ø—Ä–µ–¥–µ–ª—è–π –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\n4. **Ask When Unclear**: –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π - –∑–∞–¥–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã\n5. **Test After Changes**: –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π\n\n## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º:\n\n```\nsystems/\n‚îú‚îÄ‚îÄ question_selection/    # Smart Mix —Ä–æ—É—Ç–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å–æ–≤\n‚îú‚îÄ‚îÄ session_management/    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞\n‚îú‚îÄ‚îÄ analysis_worker/       # –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ AI\n‚îú‚îÄ‚îÄ ai_router/            # –†–æ—É—Ç–∏–Ω–≥ –º–µ–∂–¥—É Claude/GPT –º–æ–¥–µ–ª—è–º–∏\n‚îú‚îÄ‚îÄ soul_architect/       # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ª–∏—á–Ω–æ—Å—Ç–∏\n‚îî‚îÄ‚îÄ telegram_gateway/     # Telegram bot –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\n```\n\n## Decision Tree –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤:\n\n1. **–ü–æ–Ω—è—Ç–Ω–∞ –ª–∏ –∑–∞–¥–∞—á–∞?** ‚Üí –ï—Å–ª–∏ –ù–ï–¢: —Å–ø—Ä–æ—Å–∏ –¥–µ—Ç–∞–ª–∏\n2. **–ö–∞–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã?** ‚Üí –û–ø—Ä–µ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º\n3. **–û–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞?** ‚Üí –ò–∑–º–µ–Ω—è–π –ª–æ–∫–∞–ª—å–Ω–æ\n4. **–ù–µ—Å–∫–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º?** ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π —Å–æ–±—ã—Ç–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏\n5. **–ù—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î?** ‚Üí –°–æ–∑–¥–∞–π backup ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è ‚Üí —Ç–µ—Å—Ç—ã\n6. **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** ‚Üí –ó–∞–ø—É—Å—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã\n\n## –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ ‚Üí –°–∏—Å—Ç–µ–º—ã:\n\n- `–≤–æ–ø—Ä–æ—Å`, `–æ–Ω–±–æ—Ä–¥–∏–Ω–≥`, `Smart Mix` ‚Üí question_selection + session_management\n- `–¥—É—à–∞`, `–ª–∏—á–Ω–æ—Å—Ç—å`, `–ø—Ä–æ—Ñ–∏–ª—å`, `—á–µ—Ä—Ç—ã` ‚Üí soul_architect\n- `AI`, `–º–æ–¥–µ–ª—å`, `GPT`, `Claude` ‚Üí ai_router + analysis_worker\n- `–±–æ—Ç`, `telegram`, `–∫–Ω–æ–ø–∫–∞` ‚Üí telegram_gateway\n- `–º–∏–≥—Ä–∞—Ü–∏—è`, `—Ç–∞–±–ª–∏—Ü–∞`, `–ë–î` ‚Üí alembic + core/database.py\n\n## –ü—Ä–∏–º–µ—Ä—ã —É—Ç–æ—á–Ω–µ–Ω–∏–π:\n\n–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç:\n- \"–£–ª—É—á—à–∏ –≤–æ–ø—Ä–æ—Å—ã\" ‚Üí –°–ø—Ä–æ—Å–∏: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞, –∏–ª–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏?\n- \"–î–æ–±–∞–≤—å —Ñ–∏—á—É\" ‚Üí –°–ø—Ä–æ—Å–∏: –¥–ª—è –∫–∞–∫–æ–π —Å–∏—Å—Ç–µ–º—ã, –Ω—É–∂–Ω–∞ –ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î?\n- \"–ò—Å–ø—Ä–∞–≤—å –±–∞–≥\" ‚Üí –°–ø—Ä–æ—Å–∏: –≥–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è, –∫–∞–∫–∞—è —Å–∏—Å—Ç–µ–º–∞?\n\n–ß–∏—Ç–∞–π CLAUDE.md –∏ REFACTORING_PROGRESS.md –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞!",

  "settingSources": ["project"],

  "permissions": {
    "mode": "ask",
    "allowList": [
      "Read(**/*)",
      "Bash(pytest:*)",
      "Bash(python:*)",
      "Bash(python3:*)",
      "Bash(source venv/bin/activate*)",
      "Bash(pip:*)",
      "Bash(pip3:*)",
      "Bash(tree:*)",
      "Bash(docker ps:*)",
      "Bash(docker logs:*)",
      "Bash(docker exec:*)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(cat:*)",
      "Bash(ls:*)"
    ],
    "denyList": [
      "Bash(rm -rf:*)",
      "Bash(docker-compose down:*)",
      "Bash(DROP DATABASE:*)",
      "Bash(git push --force:*)"
    ]
  },

  "hooks": {
    "beforeEdit": {
      "enabled": true,
      "command": "echo '‚ö†Ô∏è Editing {file}. System: {system}. Tests will run after.'"
    },
    "afterEdit": {
      "enabled": true,
      "command": "echo '‚úÖ Edit complete. Run: pytest tests/unit/systems/{system}/ -v'"
    }
  },

  "contextFiles": [
    "CLAUDE.md",
    "REFACTORING_PROGRESS.md",
    "ARCHITECTURE_DIAGRAMS.md",
    ".claude/BACKLOG.md"
  ],

  "welcomeMessage": "üëã –ü—Ä–∏–≤–µ—Ç! –Ø Selfology Architect.\n\nüìã –ó–∞–≥—Ä—É–∂–µ–Ω BACKLOG –∏–∑ .claude/BACKLOG.md\nüéØ –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—ã:\n  - /check-system - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n  - /test-system <—Å–∏—Å—Ç–µ–º–∞> - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n  \nüí° –ì–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º!"
}
